#pragma checksum "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "03c6173c5af01f81e711305a2a5314948b1e1839"
// <auto-generated/>
#pragma warning disable 1591
namespace treyd.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
#nullable restore
#line 1 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Microsoft.AspNetCore.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Components.Category;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Components.Product;

#line default
#line hidden
#nullable disable
#nullable restore
#line 20 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Components.Toolbars;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Components.Cart;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Components.Sidebars;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Components.Redirects;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Components.Admin;

#line default
#line hidden
#nullable disable
#nullable restore
#line 25 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Components.Alerts;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using treyd.Components.SignInSignUp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Syncfusion.Blazor.Calendars;

#line default
#line hidden
#nullable disable
#nullable restore
#line 29 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Syncfusion.Blazor.Inputs;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Syncfusion.Blazor.Buttons;

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Syncfusion.Blazor.Navigations;

#line default
#line hidden
#nullable disable
#nullable restore
#line 32 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Syncfusion.Blazor.SplitButtons;

#line default
#line hidden
#nullable disable
#nullable restore
#line 33 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Syncfusion.Blazor.Cards;

#line default
#line hidden
#nullable disable
#nullable restore
#line 34 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Syncfusion.Blazor.DropDowns;

#line default
#line hidden
#nullable disable
#nullable restore
#line 35 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Syncfusion.Blazor.Spinner;

#line default
#line hidden
#nullable disable
#nullable restore
#line 36 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using Syncfusion.Blazor.Popups;

#line default
#line hidden
#nullable disable
#nullable restore
#line 38 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using BlazorPro.BlazorSize;

#line default
#line hidden
#nullable disable
#nullable restore
#line 39 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using QuickPay.SDK.Models.Payments;

#line default
#line hidden
#nullable disable
#nullable restore
#line 40 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\_Imports.razor"
using QuickPay.SDK.Models.Subscriptions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
using DataLibrary;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
using Microsoft.Extensions.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
using QuickPay.SDK;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/brukari/kassi")]
    public partial class CheckoutPage : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(0);
            __builder.AddAttribute(1, "NotAuthorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
                __builder2.OpenComponent<treyd.Components.Redirects.LoginRedirect>(2);
                __builder2.CloseComponent();
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(3, "\r\n\r\n");
            __builder.OpenElement(4, "div");
            __builder.AddAttribute(5, "class", "container mb-5");
            __builder.AddAttribute(6, "b-5xw4xjaqfy");
            __builder.AddMarkupContent(7, "<div class=\"py-5 text-center\" style=\"padding-top: 0 !important;\" b-5xw4xjaqfy><h1 class=\"text-info mt-4\" b-5xw4xjaqfy>Kassi</h1></div>\r\n\r\n    ");
            __builder.OpenElement(8, "div");
            __builder.AddAttribute(9, "class", "row g-5");
            __builder.AddAttribute(10, "b-5xw4xjaqfy");
            __builder.OpenElement(11, "div");
            __builder.AddAttribute(12, "class", "col-12");
            __builder.AddAttribute(13, "b-5xw4xjaqfy");
            __builder.OpenElement(14, "div");
            __builder.AddAttribute(15, "class", "row");
            __builder.AddAttribute(16, "b-5xw4xjaqfy");
            __builder.OpenElement(17, "ul");
            __builder.AddAttribute(18, "id", "progressbar");
            __builder.AddAttribute(19, "class", "text-center");
            __builder.AddAttribute(20, "b-5xw4xjaqfy");
            __builder.OpenElement(21, "li");
            __builder.AddAttribute(22, "class", 
#nullable restore
#line 29 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                cartActive

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(23, "b-5xw4xjaqfy");
            __builder.CloseElement();
            __builder.AddMarkupContent(24, "\r\n                    ");
            __builder.OpenElement(25, "li");
            __builder.AddAttribute(26, "class", 
#nullable restore
#line 30 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                paymentActive

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(27, "b-5xw4xjaqfy");
            __builder.CloseElement();
            __builder.AddMarkupContent(28, "\r\n                    ");
            __builder.OpenElement(29, "li");
            __builder.AddAttribute(30, "class", 
#nullable restore
#line 31 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                recieptActive

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(31, "b-5xw4xjaqfy");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(32, "\r\n            ");
            __builder.AddMarkupContent(33, "<div class=\"row\" b-5xw4xjaqfy><ul class=\"progress-text text-center\" b-5xw4xjaqfy><li b-5xw4xjaqfy>Kurv</li>\r\n                    <li b-5xw4xjaqfy>Gjalding</li>\r\n                    <li b-5xw4xjaqfy>Kvittan</li></ul></div>\r\n            ");
            __builder.OpenElement(34, "nav");
            __builder.AddAttribute(35, "style", "display: none;");
            __builder.AddAttribute(36, "b-5xw4xjaqfy");
            __builder.OpenElement(37, "div");
            __builder.AddAttribute(38, "class", "nav nav-tabs flex-sm-row");
            __builder.AddAttribute(39, "id", "progressbar");
            __builder.AddAttribute(40, "role", "tablist");
            __builder.AddAttribute(41, "b-5xw4xjaqfy");
            __builder.OpenElement(42, "button");
            __builder.AddAttribute(43, "class", "flex-sm-fill" + " btn-lg" + " nav-link" + " " + (
#nullable restore
#line 43 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                                 cartBtnActive

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(44, "id", "nav-cart-tab");
            __builder.AddAttribute(45, "data-bs-toggle", "tab");
            __builder.AddAttribute(46, "type", "button");
            __builder.AddAttribute(47, "role", "tab");
            __builder.AddAttribute(48, "aria-controls", "nav-cart");
            __builder.AddAttribute(49, "aria-selected", "true");
            __builder.AddAttribute(50, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 43 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                                                                                                                                                                        CartSection

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(51, "b-5xw4xjaqfy");
            __builder.CloseElement();
            __builder.AddMarkupContent(52, "\r\n                    ");
            __builder.OpenElement(53, "button");
            __builder.AddAttribute(54, "class", "flex-sm-fill" + " btn-lg" + " nav-link" + " " + (
#nullable restore
#line 46 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                                 paymentBtnActive

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(55, "id", "nav-payment-tab");
            __builder.AddAttribute(56, "data-bs-toggle", "tab");
            __builder.AddAttribute(57, "type", "button");
            __builder.AddAttribute(58, "role", "tab");
            __builder.AddAttribute(59, "aria-controls", "nav-payment");
            __builder.AddAttribute(60, "aria-selected", "false");
            __builder.AddAttribute(61, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 46 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                                                                                                                                                                                  PaymentSection

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(62, "b-5xw4xjaqfy");
            __builder.CloseElement();
            __builder.AddMarkupContent(63, "\r\n                    ");
            __builder.OpenElement(64, "button");
            __builder.AddAttribute(65, "class", "flex-sm-fill" + " btn-lg" + " nav-link" + " " + (
#nullable restore
#line 49 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                                 recieptBtnActive

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(66, "id", "nav-reciept-tab");
            __builder.AddAttribute(67, "data-bs-toggle", "tab");
            __builder.AddAttribute(68, "type", "button");
            __builder.AddAttribute(69, "role", "tab");
            __builder.AddAttribute(70, "aria-controls", "nav-reciept");
            __builder.AddAttribute(71, "aria-selected", "false");
            __builder.AddAttribute(72, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 49 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                                                                                                                                                                                  ReceiptSection

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(73, "b-5xw4xjaqfy");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(74, "\r\n            ");
            __builder.AddMarkupContent(75, @"<div class=""alert alert-warning alert-dismissible fade show mt-4"" role=""alert"" b-5xw4xjaqfy><h5 class=""text-danger text-center"" b-5xw4xjaqfy>Test kort: 1000 0000 0000 0008 | 01/22 | CVV: 234</h5>
                <button type=""button"" class=""btn-close"" data-bs-dismiss=""alert"" aria-label=""Close"" b-5xw4xjaqfy></button></div>
            ");
            __builder.OpenElement(76, "div");
            __builder.AddAttribute(77, "class", "tab-content");
            __builder.AddAttribute(78, "id", "nav-tabContent");
            __builder.AddAttribute(79, "b-5xw4xjaqfy");
#nullable restore
#line 59 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                 if (this.cartBtnActive == "active")
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(80, "div");
            __builder.AddAttribute(81, "class", "d-flex justify-content-between align-items-center pb-4 pt-4");
            __builder.AddAttribute(82, "style", "font-size: 30px;");
            __builder.AddAttribute(83, "b-5xw4xjaqfy");
            __builder.AddMarkupContent(84, "<span class=\"text-info\" b-5xw4xjaqfy>Tín kurv</span>\r\n                        ");
            __builder.OpenElement(85, "span");
            __builder.AddAttribute(86, "class", "badge bg-success rounded-pill");
            __builder.AddAttribute(87, "b-5xw4xjaqfy");
            __builder.AddContent(88, 
#nullable restore
#line 63 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                                     CartStateProvider.GetCartItemCount()

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(89, "\r\n                    ");
            __builder.OpenElement(90, "div");
            __builder.AddAttribute(91, "class", "tab-pane fade show active");
            __builder.AddAttribute(92, "id", "nav-cart");
            __builder.AddAttribute(93, "role", "tabpanel");
            __builder.AddAttribute(94, "aria-labelledby", "nav-cart-tab");
            __builder.AddAttribute(95, "b-5xw4xjaqfy");
            __builder.OpenElement(96, "div");
            __builder.AddAttribute(97, "class", "flex-wrapper row wow fadeIn text-info");
            __builder.AddAttribute(98, "b-5xw4xjaqfy");
            __builder.OpenElement(99, "div");
            __builder.AddAttribute(100, "class", "list-display");
            __builder.AddAttribute(101, "b-5xw4xjaqfy");
            __builder.OpenComponent<treyd.Components.Cart.Cart>(102);
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(103, "\r\n                            ");
            __builder.OpenElement(104, "div");
            __builder.AddAttribute(105, "class", "dropdown-display");
            __builder.AddAttribute(106, "b-5xw4xjaqfy");
            __builder.OpenComponent<treyd.Components.Cart.CartItem>(107);
            __builder.AddAttribute(108, "DropdownItem", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 71 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                        true

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(109, "\r\n\r\n                            <hr b-5xw4xjaqfy>\r\n\r\n                            ");
            __builder.OpenElement(110, "div");
            __builder.AddAttribute(111, "class", "row pt-4 text-center");
            __builder.AddAttribute(112, "b-5xw4xjaqfy");
            __builder.AddMarkupContent(113, @"<div class=""col text-end"" b-5xw4xjaqfy><a class=""btn btn-success btn-lg"" type=""button"" href=""/soelumidstoedin"" style=""margin-top: 18.5px;"" b-5xw4xjaqfy>
                                        Aftur á sølumiðstøðina
                                    </a></div>
                                ");
            __builder.OpenElement(114, "div");
            __builder.AddAttribute(115, "class", "col text-start");
            __builder.AddAttribute(116, "b-5xw4xjaqfy");
            __builder.OpenElement(117, "button");
            __builder.AddAttribute(118, "class", "btn btn-info btn-lg btns");
            __builder.AddAttribute(119, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 83 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                                                       PaymentSection

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(120, "type", "button");
            __builder.AddAttribute(121, "b-5xw4xjaqfy");
            __builder.AddMarkupContent(122, "<i class=\"fas fa-chevron-right\" b-5xw4xjaqfy></i>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 90 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                }
                else if (this.paymentBtnActive == "active")
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(123, @"<div class=""d-flex justify-content-between align-items-center pb-4 pt-4"" style=""font-size: 30px;"" b-5xw4xjaqfy><span class=""text-info"" b-5xw4xjaqfy>Gjalding</span>
                        <span class=""badge bg-success rounded-pill e-display-none"" b-5xw4xjaqfy></span></div>
                    ");
            __builder.OpenElement(124, "div");
            __builder.AddAttribute(125, "class", "tab-pane fade show active");
            __builder.AddAttribute(126, "id", "nav-payment");
            __builder.AddAttribute(127, "role", "tabpanel");
            __builder.AddAttribute(128, "aria-labelledby", "nav-payment-tab");
            __builder.AddAttribute(129, "b-5xw4xjaqfy");
            __builder.OpenElement(130, "div");
            __builder.AddAttribute(131, "class", "flex-wrapper row wow fadeIn text-info");
            __builder.AddAttribute(132, "b-5xw4xjaqfy");
            __builder.OpenElement(133, "div");
            __builder.AddAttribute(134, "class", "container");
            __builder.AddAttribute(135, "style", "max-width: 350px;");
            __builder.AddAttribute(136, "b-5xw4xjaqfy");
            __builder.OpenElement(137, "table");
            __builder.AddAttribute(138, "b-5xw4xjaqfy");
            __builder.AddMarkupContent(139, "<tr b-5xw4xjaqfy><td b-5xw4xjaqfy><h3 b-5xw4xjaqfy>Tín bústaður</h3></td>\r\n                                        <td b-5xw4xjaqfy></td></tr>\r\n                                    ");
            __builder.OpenElement(140, "tr");
            __builder.AddAttribute(141, "b-5xw4xjaqfy");
            __builder.AddMarkupContent(142, "<td b-5xw4xjaqfy><strong b-5xw4xjaqfy>Bústaður</strong></td>\r\n                                        ");
            __builder.OpenElement(143, "td");
            __builder.AddAttribute(144, "b-5xw4xjaqfy");
            __builder.AddContent(145, 
#nullable restore
#line 107 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                             AddressModel.Address

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(146, "\r\n                                    ");
            __builder.OpenElement(147, "tr");
            __builder.AddAttribute(148, "b-5xw4xjaqfy");
            __builder.AddMarkupContent(149, "<td b-5xw4xjaqfy><strong b-5xw4xjaqfy>Býur/bygd</strong></td>\r\n                                        ");
            __builder.OpenElement(150, "td");
            __builder.AddAttribute(151, "b-5xw4xjaqfy");
            __builder.AddContent(152, 
#nullable restore
#line 111 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                             AddressModel.City

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(153, "\r\n                                    ");
            __builder.OpenElement(154, "tr");
            __builder.AddAttribute(155, "b-5xw4xjaqfy");
            __builder.AddMarkupContent(156, "<td b-5xw4xjaqfy><strong b-5xw4xjaqfy>Postnummar</strong></td>\r\n                                        ");
            __builder.OpenElement(157, "td");
            __builder.AddAttribute(158, "b-5xw4xjaqfy");
            __builder.AddContent(159, 
#nullable restore
#line 115 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                             AddressModel.PostalCode

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(160, "\r\n                            ");
            __builder.OpenElement(161, "div");
            __builder.AddAttribute(162, "class", "row pt-4 text-center");
            __builder.AddAttribute(163, "b-5xw4xjaqfy");
            __builder.OpenElement(164, "div");
            __builder.AddAttribute(165, "class", "col text-end");
            __builder.AddAttribute(166, "b-5xw4xjaqfy");
            __builder.OpenElement(167, "button");
            __builder.AddAttribute(168, "class", "btn btn-outline-info btn-lg btns");
            __builder.AddAttribute(169, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 125 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                                                               CartSection

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(170, "type", "button");
            __builder.AddAttribute(171, "b-5xw4xjaqfy");
            __builder.AddMarkupContent(172, "<i class=\"fas fa-chevron-left\" b-5xw4xjaqfy></i>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(173, "\r\n                                ");
            __builder.OpenElement(174, "div");
            __builder.AddAttribute(175, "class", "col text-start");
            __builder.AddAttribute(176, "b-5xw4xjaqfy");
            __builder.OpenElement(177, "button");
            __builder.AddAttribute(178, "class", "btn btn-success btn-lg btns");
            __builder.AddAttribute(179, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 130 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                                                                                          CreatePayment

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(180, "b-5xw4xjaqfy");
            __builder.AddMarkupContent(181, "<i class=\"fas fa-check\" b-5xw4xjaqfy></i>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 137 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 143 "C:\Users\jonsi\ASP.NETProjects\treyd\treyd\treyd\Pages\CheckoutPage.razor"
       
    [CascadingParameter] CartStateProvider CartStateProvider { get; set; }

    [Parameter] public string User { get; set; }

    private AddressModel AddressModel { get; set; } = new AddressModel();
    private AuthModel Auth { get; set; }

    private QuickPayClient QuickPayClient = new QuickPayClient(QuickPayConfig.API_KEY, QuickPayConfig.PRIVATE_KEY, QuickPayConfig.USER);

    private string cartActive;
    private string paymentActive;
    private string recieptActive;

    private string cartBtnActive;
    private string paymentBtnActive;
    private string recieptBtnActive;

    private int amount;

    protected override async Task OnInitializedAsync()
    {
        CartStateProvider.OnChange += StateHasChanged;

        string[] integers = CartStateProvider.GetCartItemTotal().ToString().Split(".");

        if (integers.Length > 1)
        {
            this.amount = Int32.Parse(integers[0] + integers[1]);
        }
        else
        {
            this.amount = Int32.Parse(integers[0] + "00");
        }

        CartSection();

        if (await ((TreydAuthenticationStateProvider)AuthenticationStateProvider).GetAuthenticationStateAsync() is not null)
        {
            var result = await SessionStorage.GetAsync<AuthModel>("user");
            Auth = result.Success ? result.Value : null;
        }

        await LoadAddress();
    }

    protected async Task<bool> LoadAddress()
    {
        try
        {
            string sql = "select * from addresses join users on addresses.UserID = users.UserID where Email = @Email";
            AddressModel = await _data.QuerySingle<AddressModel, dynamic>(sql, new { Email = Auth.Email }, _config.GetConnectionString("default"));

            return await Task.FromResult(true);
        }
        catch (Exception e)
        {
            Console.WriteLine(e);

            return await Task.FromResult(false);
        }
    }

    private async Task<bool> CreatePayment()
    {
        try
        {
            string orderNumber = QuickPayConfig.GenerateOrderNumber();

            Dictionary<string, string> CreatePaymentVariables = new Dictionary<string, string>();

            CreatePaymentVariables.Add("email", Auth.Email);
            CreatePaymentVariables.Add("username", Auth.Name);

            Payment payment = await QuickPayClient.Payments.Create("dkk", orderNumber, CreatePaymentVariables);

            PaymentLinkUrl paymentLink = await QuickPayClient.Payments.CreateOrUpdatePaymentLink(
                payment.Id, this.amount, true, true, "en", "", QuickPayConfig.URL + "/brukari/kassi/kvittan?id=" + orderNumber,
                QuickPayConfig.URL + "/brukari/kassi/kvittan?id=" + orderNumber, QuickPayConfig.CALLBACKURL, true);

            NavigationManager.NavigateTo(paymentLink.Url);

            return await Task.FromResult(true);
        }
        catch (Exception e)
        {
            Console.WriteLine(e);

            return await Task.FromResult(false);
        }
    }

    public void CartSection()
    {
        this.cartActive = "active";
        this.paymentActive = "";
        this.recieptActive = "";
        this.cartBtnActive = "active";
        this.paymentBtnActive = "";
        this.recieptBtnActive = "";
    }

    public void PaymentSection()
    {
        if (CartStateProvider.GetCartItemCount() != 0)
        {
            this.cartActive = "active";
            this.paymentActive = "active";
            this.recieptActive = "";
            this.cartBtnActive = "";
            this.paymentBtnActive = "active";
            this.recieptBtnActive = "";
        }
    }

    public void ReceiptSection()
    {
        this.cartActive = "active";
        this.paymentActive = "active";
        this.recieptActive = "active";
        this.cartBtnActive = "";
        this.paymentBtnActive = "";
        this.recieptBtnActive = "active";
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ProtectedSessionStorage SessionStorage { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AuthenticationStateProvider AuthenticationStateProvider { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private StateContainer StateContainer { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IConfiguration _config { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IDataAccess _data { get; set; }
    }
}
#pragma warning restore 1591
